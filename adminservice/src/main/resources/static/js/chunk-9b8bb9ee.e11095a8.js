(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b8bb9ee"],{"242d":function(s,t,o){"use strict";var e=function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("form",[o("modal",{staticClass:"mi-custom-modal addschool-modal"},[o("div",{staticClass:"mi-custom-header",attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"row no-gutters"},[o("h4",{staticClass:"col-10 title"},["update"==s.action?o("span",[s._v("Update")]):o("span",[s._v("Add")]),s._v(" Course")]),o("div",{staticClass:"col-2 text-right"},[o("a",{staticClass:"btn mi-linkbtn",on:{click:s.close}},[o("i",{staticClass:"fas fa-times"})])])])]),o("template",{slot:"body"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"schoolName"}},[s._v("Course Name *")]),o("input",{directives:[{name:"model",rawName:"v-model",value:s.course.name,expression:"course.name"}],staticClass:"form-control",attrs:{id:"schoolName",type:"text","aria-describedby":"schoolNameHelp"},domProps:{value:s.course.name},on:{input:function(t){t.target.composing||s.$set(s.course,"name",t.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"schoolDName"}},[s._v("Course Description")]),o("input",{directives:[{name:"model",rawName:"v-model",value:s.course.description,expression:"course.description"}],staticClass:"form-control",attrs:{id:"schoolDName",type:"text"},domProps:{value:s.course.description},on:{input:function(t){t.target.composing||s.$set(s.course,"description",t.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"franchiseName"}},[s._v("Course Grade")]),o("input",{directives:[{name:"model",rawName:"v-model",value:s.course.grade,expression:"course.grade"}],staticClass:"form-control",attrs:{id:"franchiseName",type:"text"},domProps:{value:s.course.grade},on:{input:function(t){t.target.composing||s.$set(s.course,"grade",t.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"instructor"}},[s._v("Instructor")]),o("select",{directives:[{name:"model",rawName:"v-model",value:s.course.instructor,expression:"course.instructor"}],staticClass:"form-control",attrs:{id:"instructor"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(s){return s.selected})).map((function(s){var t="_value"in s?s._value:s.value;return t}));s.$set(s.course,"instructor",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:""}},[s._v("Select")]),s._l(s.teachers,(function(t,e){return o("option",{attrs:{selected:""},domProps:{value:t.username}},[s._v(s._s(t.firstName)+" "+s._s(t.lastName))])}))],2)])]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"btn mi-linkbtn mx-3",attrs:{type:"button",id:"cancel-button"},on:{click:s.close}},[s._v("Cancel")]),o("button",{staticClass:"btn mi-primarybtn",attrs:{type:"button",id:"add-button"},on:{click:s.addCourse}},["update"==s.action?o("span",[s._v("Update")]):o("span",[s._v("Add")]),s._v(" Course")])])],2)],1)},a=[],r=o("714b"),i="/api/myschool/",c={name:"AddCourse",components:{Modal:r["a"]},props:{course:{type:Object,required:!0},action:{type:String,required:!1}},data:function(){return{errorMsg:"",teachers:[]}},mounted:function(){this.getTeachers()},methods:{addCourse:function(){var s=this,t=this;this.axios.post(i+"addcourse",t.course).then((function(o){o.data;t.errorMsg="",s.$emit("close"),s.$emit("addCourse")}),(function(s){t.errorMsg=s.response.error+": "+s.message}))},getTeachers:function(){var s=this,t=this.course.courseSchoolId;this.axios.get(i+"teachers/"+t,{headers:{Authorization:"Bearer "+this.$store.state.user.token}}).then((function(t){s.teachers=t.data,s.errorMsg=""}),(function(t){s.errorMsg=t.response.error+": "+t.message}))},close:function(){this.$emit("close")}}},l=c,n=o("2877"),d=Object(n["a"])(l,e,a,!1,null,"6e91647c",null);t["a"]=d.exports},feb7:function(s,t,o){"use strict";o.r(t);var e=function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",{staticClass:"school"},[o("h3",{staticClass:"mi-page-title text-uppercase"},[s._v(s._s(s.school.name))]),o("div",{staticClass:"card mi-card mb-4 pb-0 h-100"},[o("div",{staticClass:"card-body pb-0"},[o("h5",{staticClass:"card-title"},[s._v("School Info")]),o("div",{staticClass:"card-text row"},[o("div",{staticClass:"col-lg-4 col-md-6"},[o("p",[o("strong",[s._v("Name: ")]),s._v(s._s(s.school.name))]),o("p",[o("strong",[s._v("Display Name: ")]),s._v(s._s(s.school.displayName))]),o("p",[o("strong",[s._v("Franchise Name: ")]),s._v(s._s(s.school.franchiseName))])]),o("div",{staticClass:"col-lg-4 col-md-6"},[o("p",[o("strong",[s._v("Correspondant: ")]),s._v(s._s(s.school.correspondent))]),o("p",[o("strong",[s._v("Status: ")]),s._v(s._s(s.school.status))])])])]),o("div",{staticClass:"card-footer mi-card-footer"},[o("button",{staticClass:"btn mi-linkbtn",attrs:{id:"editschool1","aria-expanded":s.showAddSchoolModal?"true":"false"},on:{click:function(t){return s.showModal("schoolModal")}}},[o("i",{staticClass:"fas fa-pen"}),s._v(" EDIT SCHOOL")]),o("button",{staticClass:"btn mi-linkbtn",attrs:{id:"addadmin1","aria-expanded":s.showAddAdminModal?"true":"false"},on:{click:function(t){return s.showModal("adminModal")}}},[o("i",{staticClass:"fas fa-plus"}),s._v(" ADD USER")])])]),o("div",{staticClass:"row row-cols-lg-3 row-cols-md-1 row-cols-sm-1"},[o("div",{staticClass:"col-sm-12 mb-4"},[o("div",{staticClass:"card mi-card h-100"},[o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title"},[s._v("Course Messages")]),o("ul",{staticClass:"list-unstyled"},s._l(s.courseMessages,(function(t,e){return o("li",{staticClass:"media mb-3"},[o("div",{staticClass:"numberCircle mr-3",staticStyle:{"border-color":"#37966f"}},[o("span",{staticStyle:{color:"#37966f"}},[s._v(s._s(e+1))])]),o("div",{staticClass:"media-body"},[o("strong",{staticClass:"mt-0 mb-1"},[s._v(s._s(t.subject))]),o("div",[s._v(s._s(t.message))]),o("p",{staticClass:"text-muted"},[s._v("Posted: "+s._s(s._f("formatDateTime")(t.createdTimeStamp)))])])])})),0)])])]),o("div",{staticClass:"col-sm-12 mb-4"},[o("div",{staticClass:"card mi-card h-100"},[o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title"},[s._v("School Announcements")]),o("ul",{staticClass:"list-unstyled"},s._l(s.schoolMessages,(function(t,e){return o("li",{staticClass:"media mb-3"},[o("div",{staticClass:"numberCircle mr-3",staticStyle:{"border-color":"#F9AA33"}},[o("span",{staticStyle:{color:"#F9AA33"}},[s._v(s._s(e+1))])]),o("div",{staticClass:"media-body"},[o("strong",{staticClass:"mt-0 mb-1"},[s._v(s._s(t.subject))]),o("div",[s._v(s._s(t.message))]),o("p",{staticClass:"text-muted"},[s._v("Posted: "+s._s(s._f("formatDateTime")(t.createdTimeStamp)))])])])})),0)]),o("div",{staticClass:"card-footer mi-card-footer"},[o("button",{staticClass:"btn mi-linkbtn",attrs:{id:"addschoolmessage","aria-expanded":s.showAddSchoolMessage?"true":"false"},on:{click:function(t){return s.showModal("schoolMessageModal")}}},[o("i",{staticClass:"fas fa-plus"}),s._v(" ADD SCHOOL ANNOUNCEMENT")])])])]),o("div",{staticClass:"col-sm-12 mb-4"},[o("div",{staticClass:"card mi-card pb-0 h-100"},[o("div",{staticClass:"card-body pb-0"},[o("h5",{staticClass:"card-title"},[s._v("School Info")]),o("div",{staticClass:"card-text row"},[o("div",{staticClass:"col-lg-6 col-md-6"},[o("p",[o("strong",[s._v("Name: ")]),s._v(s._s(s.school.name))]),o("p",[o("strong",[s._v("Display Name: ")]),s._v(s._s(s.school.displayName))]),o("p",[o("strong",[s._v("Franchise Name: ")]),s._v(s._s(s.school.franchiseName))])]),o("div",{staticClass:"col-lg-6 col-md-6"},[o("p",[o("strong",[s._v("Correspondant: ")]),s._v(s._s(s.school.correspondent))]),o("p",[o("strong",[s._v("Status: ")]),s._v(s._s(s.school.status))])])])]),o("div",{staticClass:"card-footer mi-card-footer"},[o("button",{staticClass:"btn mi-linkbtn",attrs:{id:"editschool","aria-expanded":s.showAddSchoolModal?"true":"false"},on:{click:function(t){return s.showModal("schoolModal")}}},[o("i",{staticClass:"fas fa-pen"}),s._v(" EDIT SCHOOL")]),o("button",{staticClass:"btn mi-linkbtn",attrs:{id:"addadmin","aria-expanded":s.showAddAdminModal?"true":"false"},on:{click:function(t){return s.showModal("adminModal")}}},[o("i",{staticClass:"fas fa-plus"}),s._v(" ADD USER")])])])])]),o("h3",[s._v("My courses")]),o("div",{staticClass:"row row-cols-sm-1 row-cols-md-2 row-cols-lg-3"},[s._l(s.courses,(function(t,e){return o("div",{staticClass:"col-sm-12 mb-4"},[o("div",{staticClass:"card mi-card h-100"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"row"},[o("h5",{staticClass:"col-10",style:{color:s.colors[e]},on:{click:function(o){return s.navToCourse(t)}}},[s._v(s._s(t.name)+" "),o("small",[s._v(s._s(t.grade))])]),o("div",{staticClass:"col-2 text-right mi-menu dropdown"},[s._m(0,!0),o("div",{staticClass:"dropdown-menu dropdown-menu-right mi-dropdown-menu ",attrs:{"aria-labelledby":"dropdownMenuButton"}},[o("button",{staticClass:"dropdown-item",attrs:{name:"copy"},on:{click:function(o){return s.showModal("courseModal","update",t)}}},[o("i",{staticClass:"fas fa-pen pr-1"}),s._v(" Edit Course")]),o("button",{staticClass:"dropdown-item",attrs:{name:"edit"},on:{click:function(o){return s.navToCourse(t)}}},[o("i",{staticClass:"fas fa-info-circle pr-1"}),s._v(" View Course")]),o("hr"),s._m(1,!0)])])]),o("div",{staticClass:"card-text"},[s._v(s._s(t.description))]),o("span",[s._v("Instructor: "+s._s(t.instructor))])])])])})),o("div",{staticClass:"col mb-4",on:{click:function(t){return s.showModal("courseModal","add")}}},[s._m(2)])],2),s.showAddSchoolModal?o("AddSchool",{attrs:{school:s.school,action:"update"},on:{close:s.close,addschool:s.addSchool}}):s._e(),s.showAddAdminModal?o("AddAdmin",{attrs:{school:s.school,admin:s.admin},on:{close:s.close,addadmin:s.addAdmin}}):s._e(),s.showAddCourseModal?o("AddCourse",{attrs:{course:s.course,action:s.action},on:{close:s.close,addCourse:s.addCourse}}):s._e(),s.showAddSchoolMessage?o("AddSchoolMessage",{attrs:{message:s.schoolMessage,action:s.action},on:{close:s.close,addMessage:s.addSchoolMessage}}):s._e()],1)},a=[function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("a",{staticClass:"btn mi-linkbtn",attrs:{href:"#",role:"button",id:"dropdownMenuButton",name:"dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[o("i",{staticClass:"fas fa-ellipsis-v"})])},function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("button",{staticClass:"dropdown-item",attrs:{name:"delete"}},[o("i",{staticClass:"fas fa-ban pr-1"}),s._v(" Inactivate Course")])},function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",{staticClass:"card mi-card h-100"},[o("div",{staticClass:"card-body text-center mi-text-primary"},[o("h5",{staticClass:"card-title"},[s._v("Add")]),o("h5",{staticClass:"card-title"},[o("i",{staticClass:"fas fa-plus"})]),o("h5",{staticClass:"card-text"},[s._v("Course")])])])}],r=o("7656"),i=o("8d37"),c=o("242d"),l=function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("form",[o("modal",{staticClass:"mi-custom-modal addschool-modal"},[o("div",{staticClass:"mi-custom-header",attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"row no-gutters"},[o("h4",{staticClass:"col-10 title"},["update"==s.action?o("span",[s._v("Update")]):o("span",[s._v("Add")]),s._v(" Announcement")]),o("div",{staticClass:"col-2 text-right"},[o("a",{staticClass:"btn mi-linkbtn",on:{click:s.close}},[o("i",{staticClass:"fas fa-times"})])])])]),o("template",{slot:"body"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"subject"}},[s._v("Message Subject*")]),o("input",{directives:[{name:"model",rawName:"v-model",value:s.message.subject,expression:"message.subject"}],staticClass:"form-control",attrs:{id:"subject",type:"text","aria-describedby":"schoolNameHelp"},domProps:{value:s.message.subject},on:{input:function(t){t.target.composing||s.$set(s.message,"subject",t.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"schoolName"}},[s._v("Message*")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:s.message.message,expression:"message.message"}],staticClass:"form-control",attrs:{id:"schoolName",rows:"10",maxlength:"10000",placeholder:s.$t("plch.announcement")},domProps:{value:s.message.message},on:{input:function(t){t.target.composing||s.$set(s.message,"message",t.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"priority"}},[s._v("Priority")]),o("select",{directives:[{name:"model",rawName:"v-model",value:s.message.priority,expression:"message.priority"}],staticClass:"form-control",attrs:{id:"priority"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(s){return s.selected})).map((function(s){var t="_value"in s?s._value:s.value;return t}));s.$set(s.message,"priority",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"important"}},[s._v("Important")]),o("option",{attrs:{value:"general"}},[s._v("General")])])])]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"btn mi-linkbtn mx-3",attrs:{type:"button",id:"cancel-button"},on:{click:s.close}},[s._v("Cancel")]),o("button",{staticClass:"btn mi-primarybtn",attrs:{type:"button",id:"add-button"},on:{click:s.addMessage}},["update"==s.action?o("span",[s._v("Update")]):o("span",[s._v("Add")]),s._v(" Announcement")])])],2)],1)},n=[],d=o("714b"),u="/api/myschool/",m={name:"AddSchoolMessage",components:{Modal:d["a"]},props:{message:{type:Object,required:!0},action:{type:String,required:!1}},data:function(){return{errorMsg:""}},mounted:function(){},methods:{addMessage:function(){var s=this,t=this;this.axios.post(u+"messages/addschoolmessage",t.message).then((function(o){o.data;t.errorMsg="",s.$emit("close"),s.$emit("addMessage")}),(function(s){t.errorMsg=s.response.error+": "+s.message}))},close:function(){this.$emit("close")}}},h=m,p=o("2877"),v=Object(p["a"])(h,l,n,!1,null,"6d56aa94",null),g=v.exports,f="/api/myschool/",C={name:"School",components:{AddSchool:r["a"],AddAdmin:i["a"],AddCourse:c["a"],AddSchoolMessage:g},data:function(){return{errorMsg:"",action:"add",showAddSchoolModal:!1,showAddAdminModal:!1,showAddCourseModal:!1,showAddSchoolMessage:!1,school:{},admin:{username:"",password:"",firstName:"",lastName:"",email:"",roles:"ROLE_SCHOOLADMIN",schoolId:0},course:{name:"",description:"",grade:"",instructor:"",courseSchoolId:0},schoolMessage:{subject:"",message:"",priority:"important",schoolId:0},schoolMessages:[],courseMessages:[],userMessages:[],courses:[],colors:this.$store.state.colors}},created:function(){this.school=this.$store.state.school,this.school||this.getSchool(),this.getAllCoursesMessages(),this.getSchoolMessages(),this.getCourses()},methods:{getSchool:function(){var s=this,t=this,o=this.$route.params.id;this.axios.get(f+"school/"+o,{headers:{Authorization:"Bearer "+this.$store.state.user.token}}).then((function(s){t.school=s.data,t.$store.commit("saveSchool",{school:t.school})}),(function(t){s.errorMsg=t.response.message}))},getSchoolMessages:function(){var s=this,t=this,o=this.$route.params.id;this.axios.get(f+"messages/allschoolmessages/"+o,{headers:{Authorization:"Bearer "+this.$store.state.user.token}}).then((function(s){t.schoolMessages=s.data}),(function(t){s.errorMsg=t.response.message}))},getAllCoursesMessages:function(){var s=this,t=this;this.$route.params.id;this.axios.get(f+"messages/allcoursemessages/",{headers:{Authorization:"Bearer "+this.$store.state.user.token}}).then((function(s){t.courseMessages=s.data}),(function(t){s.errorMsg=t.response.message}))},getCourses:function(){var s=this,t=this,o=this.$route.params.id;this.axios.get(f+"schoolcourses/"+o,{headers:{Authorization:"Bearer "+this.$store.state.user.token}}).then((function(s){t.courses=s.data}),(function(t){s.errorMsg=t.response.message}))},navToCourse:function(s){this.$store.commit("saveCourse",{course:s}),this.$router.push("/mycourses/"+s.id)},showModal:function(s,t,o){"adminModal"===s&&(this.admin.schoolId=this.school.id,this.showAddAdminModal=!0),"schoolModal"===s&&(this.showAddSchoolModal=!0),"courseModal"===s&&(this.action=t,"update"===t?this.course=o:(this.course={},this.course.courseSchoolId=this.school.id),this.showAddCourseModal=!0),"schoolMessageModal"===s&&("update"===t?(this.action=t,this.schoolMessage=o):(this.schoolMessage={},this.schoolMessage.priority="important",this.schoolMessage.schoolId=this.school.id),this.showAddSchoolMessage=!0)},addAdmin:function(){},addschool:function(){},addCourse:function(){this.getCourses()},addSchoolMessage:function(){this.getSchoolMessages()},close:function(){this.showAddSchoolModal=!1,this.showAddAdminModal=!1,this.showAddCourseModal=!1,this.showAddSchoolMessage=!1}}},_=C,b=Object(p["a"])(_,e,a,!1,null,"61bf8fac",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-9b8bb9ee.e11095a8.js.map